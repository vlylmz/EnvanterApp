@model WebApplication1.ViewModels.CompanyDetailsViewModel

<div class="card mt-4">
    <div class="card-header bg-primary text-white">
        <h3>@Model.Name - Firma Detayları</h3>
    </div>
    <div class="card-body">
        <p><strong>Açıklama:</strong> @Model.Description</p>
        <p><strong>Aktif mi?:</strong> @(Model.IsActive ? "Evet" : "Hayır")</p>
        <p><strong>Oluşturulma Tarihi:</strong> @Model.CreatedDate.ToString("dd MMM yyyy")</p>
    </div>
</div>

<a href="/Company/All" class="btn btn-secondary mt-4">← Tüm Firmalara Dön</a>

<!-- Bootstrap Accordion Başlangıcı -->
<div class="accordion mt-4" id="companyDetailsAccordion">
    <!-- Çalışanlar -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingEmployees">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEmployees" aria-expanded="false" aria-controls="collapseEmployees">
                <i class="fas fa-users me-2"></i> Çalışanlar (@Model.EmployeeCount)
            </button>
        </h2>
        <div id="collapseEmployees" class="accordion-collapse collapse" aria-labelledby="headingEmployees" data-bs-parent="#companyDetailsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered table-sm mb-0">
                    <thead>
                        <tr>
                            <th>Ad Soyad</th>
                            <th>Email</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var emp in Model.Employees)
                        {
                            <tr>
                                <td>@emp.FirstName @emp.LastName</td>
                                <td>@emp.Email</td>
                                <td>@(emp.IsActive ? "Aktif" : "Pasif")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Bilgisayarlar -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingComputers">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseComputers" aria-expanded="false" aria-controls="collapseComputers">
                <i class="fas fa-desktop me-2"></i> Bilgisayarlar (@Model.ComputerCount)
            </button>
        </h2>
        <div id="collapseComputers" class="accordion-collapse collapse" aria-labelledby="headingComputers" data-bs-parent="#companyDetailsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered table-sm mb-0">
                    <thead>
                        <tr>
                            <th>Adı</th>
                            <th>Asset Tag</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var pc in Model.Computers)
                        {
                            <tr>
                                <td>@pc.Name</td>
                                <td>@pc.AssetTag</td>
                                <td>@pc.Status</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Yazılımlar -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingSoftwares">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSoftwares" aria-expanded="false" aria-controls="collapseSoftwares">
                <i class="fas fa-cogs me-2"></i> Yazılımlar (@Model.SoftwareCount)
            </button>
        </h2>
        <div id="collapseSoftwares" class="accordion-collapse collapse" aria-labelledby="headingSoftwares" data-bs-parent="#companyDetailsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered table-sm mb-0">
                    <thead>
                        <tr>
                            <th>Adı</th>
                            <th>Marka</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var sw in Model.Softwares)
                        {
                            <tr>
                                <td>@sw.Name</td>
                                <td>@sw.Brand</td>
                                <td>@sw.Status</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Sarf Malzemeler -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingSupplies">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSupplies" aria-expanded="false" aria-controls="collapseSupplies">
                <i class="fas fa-keyboard me-2"></i> Sarf Malzemeler (@Model.SupplyCount)
            </button>
        </h2>
        <div id="collapseSupplies" class="accordion-collapse collapse" aria-labelledby="headingSupplies" data-bs-parent="#companyDetailsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered table-sm mb-0">
                    <thead>
                        <tr>
                            <th>Adı</th>
                            <th>Barkod</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var s in Model.Supplies)
                        {
                            <tr>
                                <td>@s.Name</td>
                                <td>@s.SystemBarcode</td>
                                <td>@s.Status</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
