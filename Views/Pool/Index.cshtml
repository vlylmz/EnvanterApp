@model List<Computer>  
@{  
    var companies = ViewBag.Companies as List<Company>;  
    int? selectedCompany = ViewBag.SelectedCompany as int?;  
}  
<h2>Havuz Envanteri</h2>  
<div class="mb-3 d-flex justify-content-end">
    <a href="/Pool/Create" class="btn btn-success">
        <i class="fas fa-plus me-1"></i> Yeni Ürün Ekle
    </a>
</div>

<form method="get" class="mb-3">  
    <label class="form-label">Şirket:</label>  
    <select name="companyId" class="form-select d-inline-block w-auto" onchange="this.form.submit()">  
        <option value="">Tüm Şirketler</option>  
        @foreach (var firm in companies)  
        {  
            <option value="@firm.Id" selected="@(selectedCompany == firm.Id ? "selected" : null)">@firm.Name</option>  
        }  
    </select>  
</form>  

<div class="table-responsive">  
    <table class="table table-striped align-middle">  
        <thead>  
            <tr>  
                <th>Ad</th>  
                <th>Firma</th>  
                <th>Seri No</th>  
                <th>Varlık Etiketi</th>  
                <th>İşlemler</th>  
            </tr>  
        </thead>  
        <tbody>  
        @if (!Model.Any())  
        {  
            <tr>  
                <td colspan="5" class="text-center text-muted">Bu şirkete ait havuzda ürün yok.</td>  
            </tr>  
        }  
        else  
        {  
            foreach (var item in Model)  
            {  
                <tr>  
                    <td>@item.Name</td>  
                    <td>@item.CompanyId</td>  
                    <td>@item.SerialNumber</td>  
                    <td>@item.AssetTag</td>
                        <td>
                            <a href="@Url.Action("Assign", "Pool", new { id = item.Id })" class="btn btn-primary btn-sm me-2">
                                <i class="fas fa-user-plus"></i> Zimmetle
                            </a>
                            <a href="@Url.Action("Detail", "Pool", new { id = item.Id })" class="btn btn-success btn-sm me-2">
                                <i class="fas fa-info-circle"></i> Detay
                            </a>
                           
                        </td>

                    </tr>  
            }  
        }  
        </tbody>  
    </table>  
</div>
